{"ast":null,"code":"import { ref, onValue, set, push, remove, off } from \"firebase/database\";\nimport React, { useEffect, useContext } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport AppContext from \"../components/AppContext\";\nimport { auth, database } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar mapseeLogoImage = require(\"../assets/image/mapsee_logo.png\");\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    height = _Dimensions$get.height;\n\nvar db = database;\n\nvar gotoApp = function gotoApp(_ref) {\n  var myUID_ = _ref.myUID_,\n      initMyUID = _ref.initMyUID,\n      initMyID = _ref.initMyID,\n      initMyFirstName = _ref.initMyFirstName,\n      initMyLastName = _ref.initMyLastName,\n      initMyEmail = _ref.initMyEmail,\n      startTutorial = _ref.startTutorial,\n      navigation = _ref.navigation;\n  initMyUID(myUID_);\n  onValue(ref(db, \"/users/\" + myUID_), function (snapshot) {\n    initMyID(snapshot.child(\"id\").val());\n    initMyFirstName(snapshot.child(\"firstName\").val());\n    initMyLastName(snapshot.child(\"lastName\").val());\n    initMyEmail(snapshot.child(\"email\").val());\n  });\n\n  if (!startTutorial) {\n    navigation.navigate(\"Tabs\");\n  }\n};\n\nvar BeforeLoginScreen = function BeforeLoginScreen(_ref2) {\n  var navigation = _ref2.navigation;\n  var myContext = useContext(AppContext);\n  var startTutorial = false;\n\n  var initMyUID = function initMyUID(uid) {\n    myContext.initMyUID(uid);\n  };\n\n  var initMyID = function initMyID(id) {\n    myContext.initMyID(id);\n  };\n\n  var initMyFirstName = function initMyFirstName(firstname) {\n    myContext.initMyFirstName(firstname);\n  };\n\n  var initMyLastName = function initMyLastName(lastname) {\n    myContext.initMyLastName(lastname);\n  };\n\n  var initMyEmail = function initMyEmail(email) {\n    myContext.initMyEmail(email);\n  };\n\n  useEffect(function () {\n    var unsubscribe = auth.onAuthStateChanged(function (user) {\n      if (user) {\n        gotoApp({\n          myUID_: user.uid,\n          initMyUID: initMyUID,\n          initMyID: initMyID,\n          initMyFirstName: initMyFirstName,\n          initMyLastName: initMyLastName,\n          initMyEmail: initMyEmail,\n          startTutorial: startTutorial,\n          navigation: navigation\n        });\n      }\n    });\n    return unsubscribe;\n  }, []);\n\n  var gotoEmailScreen = function gotoEmailScreen() {\n    navigation.navigate(\"LoginScreen\");\n  };\n\n  var gotoRegisterScreen = function gotoRegisterScreen() {\n    navigation.navigate(\"RegisterScreen1\");\n  };\n\n  return _jsxs(View, {\n    style: {\n      height: height,\n      backgroundColor: \"white\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    children: [_jsx(View, {\n      style: {\n        padding: height * 0.3,\n        marginBottom: height * 0.2\n      },\n      children: _jsx(Image, {\n        style: {\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        source: mapseeLogoImage\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return gotoEmailScreen();\n      },\n      style: styles.button,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return gotoRegisterScreen();\n      },\n      style: styles.registerButton,\n      children: _jsx(Text, {\n        style: styles.registerButtonText,\n        children: \"\\uC774\\uBA54\\uC77C\\uB85C \\uD68C\\uC6D0\\uAC00\\uC785\"\n      })\n    })]\n  });\n};\n\nexport default BeforeLoginScreen;\nvar styles = StyleSheet.create({\n  container: {\n    height: height,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  button: {\n    backgroundColor: \"#00CCBD\",\n    width: \"90%\",\n    padding: 10,\n    borderRadius: 10,\n    alignItems: \"center\",\n    marginTop: 15\n  },\n  registerButton: {\n    backgroundColor: \"white\",\n    width: \"90%\",\n    padding: 10,\n    borderRadius: 10,\n    alignItems: \"center\",\n    borderColor: \"black\",\n    borderWidth: 1,\n    marginTop: 15\n  },\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"700\",\n    fontSize: 16\n  },\n  registerButtonText: {\n    color: \"black\",\n    fontWeight: \"700\",\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["ref","onValue","set","push","remove","off","React","useEffect","useContext","AppContext","auth","database","mapseeLogoImage","require","Dimensions","get","height","db","gotoApp","myUID_","initMyUID","initMyID","initMyFirstName","initMyLastName","initMyEmail","startTutorial","navigation","snapshot","child","val","navigate","BeforeLoginScreen","myContext","uid","id","firstname","lastname","email","unsubscribe","onAuthStateChanged","user","gotoEmailScreen","gotoRegisterScreen","backgroundColor","alignItems","justifyContent","padding","marginBottom","styles","button","buttonText","registerButton","registerButtonText","StyleSheet","create","container","width","borderRadius","marginTop","borderColor","borderWidth","color","fontWeight","fontSize"],"sources":["/Users/jeongin/mapsee_2/screens/BeforeLoginScreen.js"],"sourcesContent":["import { ref, onValue, set, push, remove, off } from \"firebase/database\";\nimport React, { useEffect, useContext } from \"react\";\nimport {\n  View,\n  Image,\n  StyleSheet,\n  TouchableOpacity,\n  Text,\n  Dimensions,\n} from \"react-native\";\n\nimport AppContext from \"../components/AppContext\";\nimport { auth, database } from \"../firebase\";\n\nconst mapseeLogoImage = require(\"../assets/image/mapsee_logo.png\");\nconst { height } = Dimensions.get(\"window\");\n\nconst db = database;\nconst gotoApp = ({\n  myUID_,\n  initMyUID,\n  initMyID,\n  initMyFirstName,\n  initMyLastName,\n  initMyEmail,\n  startTutorial,\n  navigation,\n}) => {\n  initMyUID(myUID_);\n  onValue(ref(db, \"/users/\" + myUID_), (snapshot) => {\n    initMyID(snapshot.child(\"id\").val());\n    initMyFirstName(snapshot.child(\"firstName\").val());\n    initMyLastName(snapshot.child(\"lastName\").val());\n    initMyEmail(snapshot.child(\"email\").val());\n  });\n  if (!startTutorial) {\n    navigation.navigate(\"Tabs\");\n  }\n};\n\nconst BeforeLoginScreen = ({ navigation }) => {\n  const myContext = useContext(AppContext);\n  const startTutorial = false;\n  const initMyUID = (uid) => {\n    myContext.initMyUID(uid);\n  };\n  const initMyID = (id) => {\n    myContext.initMyID(id);\n  };\n  const initMyFirstName = (firstname) => {\n    myContext.initMyFirstName(firstname);\n  };\n  const initMyLastName = (lastname) => {\n    myContext.initMyLastName(lastname);\n  };\n  const initMyEmail = (email) => {\n    myContext.initMyEmail(email);\n  };\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        gotoApp({\n          myUID_: user.uid,\n          initMyUID,\n          initMyID,\n          initMyFirstName,\n          initMyLastName,\n          initMyEmail,\n          startTutorial,\n          navigation,\n        });\n      }\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const gotoEmailScreen = () => {\n    navigation.navigate(\"LoginScreen\");\n  };\n  const gotoRegisterScreen = () => {\n    navigation.navigate(\"RegisterScreen1\");\n  };\n\n  return (\n    <View\n      style={{\n        height,\n        backgroundColor: \"white\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <View style={{ padding: height * 0.3, marginBottom: height * 0.2 }}>\n        <Image\n          style={{ alignItems: \"center\", justifyContent: \"center\" }}\n          source={mapseeLogoImage}\n        />\n      </View>\n      <TouchableOpacity onPress={() => gotoEmailScreen()} style={styles.button}>\n        <Text style={styles.buttonText}>로그인</Text>\n      </TouchableOpacity>\n      <TouchableOpacity\n        onPress={() => gotoRegisterScreen()}\n        style={styles.registerButton}\n      >\n        <Text style={styles.registerButtonText}>이메일로 회원가입</Text>\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nexport default BeforeLoginScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    height,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  button: {\n    backgroundColor: \"#00CCBD\",\n    width: \"90%\",\n    padding: 10,\n    borderRadius: 10,\n    alignItems: \"center\",\n    marginTop: 15,\n  },\n\n  registerButton: {\n    backgroundColor: \"white\",\n    width: \"90%\",\n    padding: 10,\n    borderRadius: 10,\n    alignItems: \"center\",\n    borderColor: \"black\",\n    borderWidth: 1,\n    marginTop: 15,\n  },\n\n  buttonText: {\n    color: \"white\",\n    fontWeight: \"700\",\n    fontSize: 16,\n  },\n\n  registerButtonText: {\n    color: \"black\",\n    fontWeight: \"700\",\n    fontSize: 16,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}