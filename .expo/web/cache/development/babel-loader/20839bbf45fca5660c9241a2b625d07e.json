{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { Platform } from 'expo-modules-core';\nimport UAParser from 'ua-parser-js';\nimport { DeviceType } from \"./Device.types\";\nvar result = null;\n\nif (Platform.isDOMAvailable) {\n  var parser = new UAParser(window.navigator.userAgent);\n  result = parser.getResult();\n}\n\nfunction convertGiBtoBytes(gib) {\n  return Math.round(gib * Math.pow(1024, 3));\n}\n\nexport default {\n  get isDevice() {\n    return true;\n  },\n\n  get brand() {\n    return null;\n  },\n\n  get manufacturer() {\n    return result && result.device.vendor || null;\n  },\n\n  get modelName() {\n    return result && result.device.model || null;\n  },\n\n  get deviceYearClass() {\n    return null;\n  },\n\n  get totalMemory() {\n    if (Platform.isDOMAvailable && 'deviceMemory' in navigator) {\n      var _navigator = navigator,\n          deviceMemory = _navigator.deviceMemory;\n      return convertGiBtoBytes(deviceMemory);\n    }\n\n    return null;\n  },\n\n  get supportedCpuArchitectures() {\n    return result && result.cpu.architecture ? [result.cpu.architecture] : null;\n  },\n\n  get osName() {\n    return result && result.os.name || '';\n  },\n\n  get osVersion() {\n    return result && result.os.version || '';\n  },\n\n  get osBuildId() {\n    return null;\n  },\n\n  get osInternalBuildId() {\n    return null;\n  },\n\n  get deviceName() {\n    return null;\n  },\n\n  getDeviceTypeAsync: function () {\n    var _getDeviceTypeAsync = _asyncToGenerator(function* () {\n      switch (result.device.type) {\n        case 'mobile':\n          return DeviceType.PHONE;\n\n        case 'tablet':\n          return DeviceType.TABLET;\n\n        case 'smarttv':\n          return DeviceType.TV;\n\n        case 'console':\n        case 'embedded':\n        case 'wearable':\n          return DeviceType.UNKNOWN;\n\n        default:\n          return DeviceType.DESKTOP;\n      }\n    });\n\n    function getDeviceTypeAsync() {\n      return _getDeviceTypeAsync.apply(this, arguments);\n    }\n\n    return getDeviceTypeAsync;\n  }(),\n  isRootedExperimentalAsync: function () {\n    var _isRootedExperimentalAsync = _asyncToGenerator(function* () {\n      return false;\n    });\n\n    function isRootedExperimentalAsync() {\n      return _isRootedExperimentalAsync.apply(this, arguments);\n    }\n\n    return isRootedExperimentalAsync;\n  }()\n};","map":{"version":3,"mappings":";AAAA,SAASA,QAAT,QAAyB,mBAAzB;AACA,OAAOC,QAAP,MAAqB,cAArB;AAEA,SAASC,UAAT;AAIA,IAAIC,MAAM,GAAQ,IAAlB;;AACA,IAAIH,QAAQ,CAACI,cAAb,EAA6B;EAC3B,IAAMC,MAAM,GAAG,IAAIJ,QAAJ,CAAaK,MAAM,CAACC,SAAP,CAAiBC,SAA9B,CAAf;EACAL,MAAM,GAAGE,MAAM,CAACI,SAAP,EAAT;AACD;;AAED,SAASC,iBAAT,CAA2BC,GAA3B,EAAsC;EACpC,OAAOC,IAAI,CAACC,KAAL,CAAWF,GAAG,YAAG,IAAH,EAAW,CAAX,CAAd,CAAP;AACD;;AAED,eAAe;EACb,IAAIG,QAAJ,GAAY;IACV,OAAO,IAAP;EACD,CAHY;;EAIb,IAAIC,KAAJ,GAAS;IACP,OAAO,IAAP;EACD,CANY;;EAOb,IAAIC,YAAJ,GAAgB;IACd,OAAQb,MAAM,IAAIA,MAAM,CAACc,MAAP,CAAcC,MAAzB,IAAoC,IAA3C;EACD,CATY;;EAUb,IAAIC,SAAJ,GAAa;IACX,OAAQhB,MAAM,IAAIA,MAAM,CAACc,MAAP,CAAcG,KAAzB,IAAmC,IAA1C;EACD,CAZY;;EAab,IAAIC,eAAJ,GAAmB;IACjB,OAAO,IAAP;EACD,CAfY;;EAgBb,IAAIC,WAAJ,GAAe;IACb,IAAItB,QAAQ,CAACI,cAAT,IAA2B,kBAAkBG,SAAjD,EAA4D;MAC1D,iBAAyBA,SAAzB;MAAA,IAAQgB,YAAR,cAAQA,YAAR;MACA,OAAOb,iBAAiB,CAACa,YAAD,CAAxB;IACD;;IACD,OAAO,IAAP;EACD,CAtBY;;EAuBb,IAAIC,yBAAJ,GAA6B;IAC3B,OAAOrB,MAAM,IAAIA,MAAM,CAACsB,GAAP,CAAWC,YAArB,GAAoC,CAACvB,MAAM,CAACsB,GAAP,CAAWC,YAAZ,CAApC,GAAgE,IAAvE;EACD,CAzBY;;EA0Bb,IAAIC,MAAJ,GAAU;IACR,OAAQxB,MAAM,IAAIA,MAAM,CAACyB,EAAP,CAAUC,IAArB,IAA8B,EAArC;EACD,CA5BY;;EA6Bb,IAAIC,SAAJ,GAAa;IACX,OAAQ3B,MAAM,IAAIA,MAAM,CAACyB,EAAP,CAAUG,OAArB,IAAiC,EAAxC;EACD,CA/BY;;EAgCb,IAAIC,SAAJ,GAAa;IACX,OAAO,IAAP;EACD,CAlCY;;EAmCb,IAAIC,iBAAJ,GAAqB;IACnB,OAAO,IAAP;EACD,CArCY;;EAsCb,IAAIC,UAAJ,GAAc;IACZ,OAAO,IAAP;EACD,CAxCY;;EAyCPC,kBAzCO;IAAA,yDAyCW;MACtB,QAAQhC,MAAM,CAACc,MAAP,CAAcmB,IAAtB;QACE,KAAK,QAAL;UACE,OAAOlC,UAAU,CAACmC,KAAlB;;QACF,KAAK,QAAL;UACE,OAAOnC,UAAU,CAACoC,MAAlB;;QACF,KAAK,SAAL;UACE,OAAOpC,UAAU,CAACqC,EAAlB;;QACF,KAAK,SAAL;QACA,KAAK,UAAL;QACA,KAAK,UAAL;UACE,OAAOrC,UAAU,CAACsC,OAAlB;;QACF;UACE,OAAOtC,UAAU,CAACuC,OAAlB;MAZJ;IAcD,CAxDY;;IAAA;MAAA;IAAA;;IAAA;EAAA;EAyDPC,yBAzDO;IAAA,gEAyDkB;MAC7B,OAAO,KAAP;IACD,CA3DY;;IAAA;MAAA;IAAA;;IAAA;EAAA;AAAA,CAAf","names":["Platform","UAParser","DeviceType","result","isDOMAvailable","parser","window","navigator","userAgent","getResult","convertGiBtoBytes","gib","Math","round","isDevice","brand","manufacturer","device","vendor","modelName","model","deviceYearClass","totalMemory","deviceMemory","supportedCpuArchitectures","cpu","architecture","osName","os","name","osVersion","version","osBuildId","osInternalBuildId","deviceName","getDeviceTypeAsync","type","PHONE","TABLET","TV","UNKNOWN","DESKTOP","isRootedExperimentalAsync"],"sourceRoot":"","sources":["../src/ExpoDevice.web.ts"],"sourcesContent":["import { Platform } from 'expo-modules-core';\nimport UAParser from 'ua-parser-js';\n\nimport { DeviceType } from './Device.types';\n\ntype NavigatorWithDeviceMemory = Navigator & { deviceMemory: number };\n\nlet result: any = null;\nif (Platform.isDOMAvailable) {\n  const parser = new UAParser(window.navigator.userAgent);\n  result = parser.getResult();\n}\n\nfunction convertGiBtoBytes(gib: number): number {\n  return Math.round(gib * 1024 ** 3);\n}\n\nexport default {\n  get isDevice(): boolean {\n    return true;\n  },\n  get brand(): null {\n    return null;\n  },\n  get manufacturer(): null {\n    return (result && result.device.vendor) || null;\n  },\n  get modelName(): string | null {\n    return (result && result.device.model) || null;\n  },\n  get deviceYearClass(): null {\n    return null;\n  },\n  get totalMemory(): number | null {\n    if (Platform.isDOMAvailable && 'deviceMemory' in navigator) {\n      const { deviceMemory } = navigator as NavigatorWithDeviceMemory;\n      return convertGiBtoBytes(deviceMemory);\n    }\n    return null;\n  },\n  get supportedCpuArchitectures(): string[] | null {\n    return result && result.cpu.architecture ? [result.cpu.architecture] : null;\n  },\n  get osName(): string {\n    return (result && result.os.name) || '';\n  },\n  get osVersion(): string {\n    return (result && result.os.version) || '';\n  },\n  get osBuildId(): null {\n    return null;\n  },\n  get osInternalBuildId(): null {\n    return null;\n  },\n  get deviceName(): null {\n    return null;\n  },\n  async getDeviceTypeAsync(): Promise<DeviceType> {\n    switch (result.device.type) {\n      case 'mobile':\n        return DeviceType.PHONE;\n      case 'tablet':\n        return DeviceType.TABLET;\n      case 'smarttv':\n        return DeviceType.TV;\n      case 'console':\n      case 'embedded':\n      case 'wearable':\n        return DeviceType.UNKNOWN;\n      default:\n        return DeviceType.DESKTOP;\n    }\n  },\n  async isRootedExperimentalAsync(): Promise<boolean> {\n    return false;\n  },\n};\n"]},"metadata":{},"sourceType":"module"}