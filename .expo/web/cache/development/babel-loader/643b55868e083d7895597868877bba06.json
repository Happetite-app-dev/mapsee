{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport * as Location from \"expo-location\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Geocoder from \"react-native-geocoding\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport { Easing } from \"react-native-reanimated\";\nimport { useUserQuery, useAllRecordQuery } from \"../queries\";\nimport CreateNote from \"../assets/icons/createNote.svg\";\nimport SearchMain from \"../assets/icons/searchMain.svg\";\nimport SearchBox from \"../assets/image/searchBox.svg\";\nimport TargetMarker from \"../assets/markers/selectedMarker.svg\";\nimport AppContext from \"../components/AppContext\";\nimport RecordMarker from \"../components/MapScreen/RecordMarker\";\nimport GeneratePushToken from \"../modules/GeneratePushToken\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar findCurrentLocationImage = require(\"../assets/image/findCurrentLocation.png\");\n\nvar mapStyle = require(\"../assets/mapDesign.json\");\n\nvar SearchView = function SearchView(_ref) {\n  var navigation = _ref.navigation,\n      origin = _ref.origin;\n  return _jsxs(View, {\n    style: {\n      width: 344,\n      height: 48,\n      flexDirection: \"row\",\n      left: 23,\n      top: 36,\n      position: \"absolute\",\n      alignItems: \"center\"\n    },\n    onTouchEndCapture: function onTouchEndCapture() {\n      return navigation.navigate(\"MapSearchScreen1\", {\n        latitude: origin.latitude,\n        longitude: origin.longitude\n      });\n    },\n    children: [_jsx(SearchBox, {\n      style: {\n        position: \"absolute\"\n      }\n    }), _jsx(SearchMain, {\n      style: {\n        position: \"relative\",\n        left: 12\n      }\n    }), _jsx(Text, {\n      style: {\n        left: 20,\n        fontSize: 16,\n        color: \"#DDDFE9\"\n      },\n      children: \"\\uC5F4\\uB78C\\uD558\\uACE0 \\uC2F6\\uC740 \\uC7A5\\uC18C\\uB97C \\uAC80\\uC0C9\\uD558\\uC138\\uC694\"\n    })]\n  });\n};\n\nvar storeData = function () {\n  var _ref2 = _asyncToGenerator(function* (value) {\n    try {\n      yield AsyncStorage.setItem(\"tutorial\", value);\n    } catch (e) {}\n  });\n\n  return function storeData(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getData = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    try {\n      var value = yield AsyncStorage.getItem(\"tutorial\");\n\n      if (value !== null) {}\n    } catch (e) {}\n  });\n\n  return function getData() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar gotoTutorial = function gotoTutorial(_ref4) {\n  var navigation = _ref4.navigation,\n      onChangeGetPermissions = _ref4.onChangeGetPermissions;\n  navigation.navigate(\"TutorialScreen\", {\n    onChangeGetPermissions: onChangeGetPermissions\n  });\n};\n\nvar targetingFromLocation = function targetingFromLocation(_ref5) {\n  var lctn = _ref5.lctn,\n      name = _ref5.name,\n      setOrigin = _ref5.setOrigin,\n      setTarget = _ref5.setTarget,\n      setTargetShown = _ref5.setTargetShown;\n  Geocoder.from(lctn).then(function (json) {\n    var addressComponent = json.results[0].formatted_address;\n    setOrigin({\n      latitude: lctn.latitude,\n      longitude: lctn.longitude,\n      latitudeDelta: 0.0016,\n      longitudeDelta: 0.0012\n    });\n    setTarget({\n      name: name,\n      address: addressComponent,\n      id: json.results[0].place_id,\n      lctn: {\n        latitude: lctn.latitude,\n        longitude: lctn.longitude\n      }\n    });\n    setTargetShown(true);\n  }).catch(function (error) {\n    return console.warn(error);\n  });\n};\n\nfunction getLocationPermission(_x2) {\n  return _getLocationPermission.apply(this, arguments);\n}\n\nfunction _getLocationPermission() {\n  _getLocationPermission = _asyncToGenerator(function* (_ref6) {\n    var setCurrent = _ref6.setCurrent,\n        setOrigin = _ref6.setOrigin;\n\n    var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n\n    if (status !== \"granted\") {\n      alert(\"Permission denied\");\n      return;\n    }\n\n    var location = yield Location.getCurrentPositionAsync({});\n    setCurrent({\n      latitude: location.coords.latitude,\n      longitude: location.coords.longitude\n    });\n    setOrigin(function (prev) {\n      return {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n        latitudeDelta: 0.0016,\n        longitudeDelta: 0.0012\n      };\n    });\n  });\n  return _getLocationPermission.apply(this, arguments);\n}\n\nvar rotateValueHolder = new Animated.Value(0);\n\nvar CurrentRotate = function CurrentRotate(isFocused) {\n  if (isFocused) {\n    rotateValueHolder.setValue(0);\n    Animated.loop(Animated.timing(rotateValueHolder, {\n      toValue: 1,\n      duration: 3000,\n      easing: Easing.linear,\n      useNativeDriver: false\n    }), {\n      iteration: 4\n    }).start();\n  }\n};\n\nvar RotateData = rotateValueHolder.interpolate({\n  inputRange: [0, 1],\n  outputRange: [\"0deg\", \"360deg\"]\n});\n\nvar MapScreen = function MapScreen(_ref7) {\n  var navigation = _ref7.navigation;\n  var myContext = useContext(AppContext);\n  var myUID = myContext.myUID;\n  var userQuery = useUserQuery(myUID);\n  var allRecordQuery = useAllRecordQuery();\n  var isFocused = useIsFocused();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      getPermissions = _useState2[0],\n      setGetPermissions = _useState2[1];\n\n  var mapRef = React.createRef();\n\n  var _useState3 = useState({\n    latitude: 0,\n    longitude: 0,\n    latitudeDelta: 0.0016,\n    longitudeDelta: 0.0012\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      origin = _useState4[0],\n      setOrigin = _useState4[1];\n\n  var _useState5 = useState({\n    latitude: 0,\n    longitude: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      current = _useState6[0],\n      setCurrent = _useState6[1];\n\n  var _useState7 = useState({\n    name: \"\",\n    address: \"\",\n    id: \"\",\n    lctn: {\n      latitude: 0,\n      longitude: 0\n    }\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      target = _useState8[0],\n      setTarget = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      targetShown = _useState10[0],\n      setTargetShown = _useState10[1];\n\n  var onChangeGetPermissions = function onChangeGetPermissions(b) {\n    setGetPermissions(b);\n  };\n\n  useEffect(function () {\n    if (getPermissions) {\n      Geocoder.init(\"AIzaSyDBq4tZ1QLm1R7iPH8O4dTvebVGWgkRPks\", {\n        language: \"kor\"\n      });\n      GeneratePushToken(myUID);\n      getLocationPermission({\n        setCurrent: setCurrent,\n        setOrigin: setOrigin\n      });\n    }\n  }, [getPermissions]);\n  useEffect(function () {\n    if (targetShown) {\n      navigation.navigate(\"PlaceInfoBottomSheetScreen\", {\n        targetName: target.name,\n        targetAddress: target.address,\n        targetId: target.id,\n        targetLctn: target.lctn\n      });\n    }\n  }, [targetShown]);\n  useEffect(function () {\n    if (targetShown && isFocused) setTargetShown(false);\n  }, [isFocused]);\n  useEffect(function () {\n    if (getData == null) {\n      gotoTutorial({\n        navigation: navigation,\n        onChangeGetPermissions: onChangeGetPermissions\n      });\n      storeData(\"true\");\n    } else {\n      onChangeGetPermissions(true);\n    }\n\n    CurrentRotate(isFocused);\n  }, []);\n  return _jsxs(SafeAreaView, {\n    style: styles.container,\n    children: [_jsxs(MapView, {\n      provider: \"google\",\n      ref: mapRef,\n      style: styles.map,\n      customMapStyle: mapStyle,\n      region: {\n        latitude: origin.latitude,\n        longitude: origin.longitude,\n        latitudeDelta: origin.latitudeDelta,\n        longitudeDelta: origin.longitudeDelta\n      },\n      onRegionChangeComplete: function onRegionChangeComplete(region) {\n        if (region !== undefined) {\n          setOrigin({\n            latitude: region.latitude,\n            longitude: region.longitude,\n            latitudeDelta: region.latitudeDelta,\n            longitudeDelta: region.longitudeDelta\n          });\n        }\n      },\n      onPoiClick: function onPoiClick(data) {\n        targetingFromLocation({\n          lctn: data.nativeEvent.coordinate,\n          name: data.nativeEvent.name.split(\"\\n\")[0],\n          setOrigin: setOrigin,\n          setTarget: setTarget,\n          setTargetShown: setTargetShown\n        });\n      },\n      onPress: function onPress(_ref8) {\n        var nativeEvent = _ref8.nativeEvent;\n\n        if (nativeEvent.action === \"marker-press\" && nativeEvent.coordinate.latitude === target.lctn.latitude && nativeEvent.coordinate.longitude === target.lctn.longitude) {\n          setTargetShown(true);\n        } else {\n          setTargetShown(false);\n        }\n      },\n      children: [_jsx(Marker, {\n        coordinate: target.lctn,\n        opacity: targetShown ? 100 : 0,\n        children: _jsx(TargetMarker, {})\n      }), _jsx(View, {\n        style: styles.currentLocationButton,\n        onTouchEndCapture: function onTouchEndCapture() {\n          mapRef.current.animateToRegion({\n            latitude: current.latitude,\n            longitude: current.longitude,\n            latitudeDelta: 0.0016,\n            longitudeDelta: 0.0012\n          });\n        },\n        children: _jsx(Animated.Image, {\n          source: findCurrentLocationImage,\n          resizeMode: \"contain\",\n          style: {\n            position: \"absolute\",\n            width: 30,\n            height: 30,\n            borderRadius: 15,\n            left: 330,\n            top: 608,\n            tintColor: \"grey\",\n            transform: [{\n              rotate: RotateData\n            }]\n          }\n        })\n      }), _jsx(View, {\n        style: styles.createNote,\n        onTouchEndCapture: function onTouchEndCapture() {\n          console.log(\"create note !!\");\n        },\n        children: _jsx(CreateNote, {})\n      }), _jsx(RecordMarker, {\n        recordData: allRecordQuery.data ? Object.values(allRecordQuery.data).filter(function (record) {\n          var _userQuery$data;\n\n          return record.folderID in ((_userQuery$data = userQuery.data) == null ? void 0 : _userQuery$data.folderIDs);\n        }) : [],\n        origin: origin\n      })]\n    }), _jsx(SearchView, {\n      navigation: navigation,\n      origin: origin\n    })]\n  });\n};\n\nexport default MapScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"stretch\",\n    justifyContent: \"center\"\n  },\n  map: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  currentLocationImage: {\n    position: \"absolute\",\n    width: 30,\n    height: 30,\n    borderRadius: 15,\n    left: 330,\n    top: 608,\n    tintColor: \"grey\"\n  },\n  currentLocationButton: {\n    position: \"absolute\",\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    left: 23,\n    bottom: 112,\n    backgroundColor: \"white\"\n  },\n  createNote: {\n    position: \"absolute\",\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    zIndex: 1,\n    shadowColor: \"black\",\n    shadowOffset: {\n      width: 0,\n      height: 5\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.5,\n    left: 319,\n    bottom: 112,\n    backgroundColor: \"red\"\n  }\n});","map":{"version":3,"names":["AsyncStorage","useIsFocused","Location","React","useEffect","useState","useContext","Geocoder","MapView","Marker","Easing","useUserQuery","useAllRecordQuery","CreateNote","SearchMain","SearchBox","TargetMarker","AppContext","RecordMarker","GeneratePushToken","findCurrentLocationImage","require","mapStyle","SearchView","navigation","origin","width","height","flexDirection","left","top","position","alignItems","navigate","latitude","longitude","fontSize","color","storeData","value","setItem","e","getData","getItem","gotoTutorial","onChangeGetPermissions","targetingFromLocation","lctn","name","setOrigin","setTarget","setTargetShown","from","then","json","addressComponent","results","formatted_address","latitudeDelta","longitudeDelta","address","id","place_id","catch","error","console","warn","getLocationPermission","setCurrent","requestForegroundPermissionsAsync","status","alert","location","getCurrentPositionAsync","coords","prev","rotateValueHolder","Animated","Value","CurrentRotate","isFocused","setValue","loop","timing","toValue","duration","easing","linear","useNativeDriver","iteration","start","RotateData","interpolate","inputRange","outputRange","MapScreen","myContext","myUID","userQuery","allRecordQuery","getPermissions","setGetPermissions","mapRef","createRef","current","target","targetShown","b","init","language","targetName","targetAddress","targetId","targetLctn","styles","container","map","region","undefined","data","nativeEvent","coordinate","split","action","currentLocationButton","animateToRegion","borderRadius","tintColor","transform","rotate","createNote","log","Object","values","filter","record","folderID","folderIDs","StyleSheet","create","flex","backgroundColor","justifyContent","currentLocationImage","bottom","zIndex","shadowColor","shadowOffset","shadowOpacity","shadowRadius"],"sources":["/Users/jeongin/mapsee_2/screens/MapScreen.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport * as Location from \"expo-location\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport {\n  Image,\n  StyleSheet,\n  View,\n  SafeAreaView,\n  Button,\n  Animated,\n  TouchableOpacity,\n  Text,\n} from \"react-native\";\nimport Geocoder from \"react-native-geocoding\";\nimport MapView, { Marker } from \"react-native-maps\";\nimport { Easing } from \"react-native-reanimated\";\nimport { useUserQuery, useAllRecordQuery } from \"../queries\";\n\nimport CreateNote from \"../assets/icons/createNote.svg\";\nimport SearchMain from \"../assets/icons/searchMain.svg\";\nimport SearchBox from \"../assets/image/searchBox.svg\";\nimport TargetMarker from \"../assets/markers/selectedMarker.svg\";\nimport AppContext from \"../components/AppContext\";\nimport RecordMarker from \"../components/MapScreen/RecordMarker\";\nimport GeneratePushToken from \"../modules/GeneratePushToken\";\nconst findCurrentLocationImage = require(\"../assets/image/findCurrentLocation.png\");\nconst mapStyle = require(\"../assets/mapDesign.json\");\n\nconst SearchView = ({ navigation, origin }) => {\n  return (\n    <View\n      style={{\n        width: 344,\n        height: 48,\n        flexDirection: \"row\",\n        left: 23,\n        top: 36,\n        position: \"absolute\",\n        alignItems: \"center\",\n      }}\n      onTouchEndCapture={() =>\n        navigation.navigate(\"MapSearchScreen1\", {\n          latitude: origin.latitude,\n          longitude: origin.longitude,\n        })\n      }\n    >\n      <SearchBox style={{ position: \"absolute\" }} />\n      <SearchMain style={{ position: \"relative\", left: 12 }} />\n      <Text style={{ left: 20, fontSize: 16, color: \"#DDDFE9\" }}>\n        열람하고 싶은 장소를 검색하세요\n      </Text>\n    </View>\n  );\n};\n// Tutorial Reload\nconst storeData = async (value) => {\n  try {\n    await AsyncStorage.setItem(\"tutorial\", value);\n  } catch (e) {\n    //\n  }\n};\n\nconst getData = async () => {\n  try {\n    const value = await AsyncStorage.getItem(\"tutorial\");\n    if (value !== null) {\n    }\n  } catch (e) {\n    //\n  }\n};\n\nconst gotoTutorial = ({ navigation, onChangeGetPermissions }) => {\n  navigation.navigate(\"TutorialScreen\", {\n    onChangeGetPermissions,\n  });\n};\n\nconst targetingFromLocation = ({\n  lctn,\n  name,\n  setOrigin,\n  setTarget,\n  setTargetShown,\n}) => {\n  Geocoder.from(lctn)\n    .then((json) => {\n      const addressComponent = json.results[0].formatted_address;\n      setOrigin({\n        latitude: lctn.latitude,\n        longitude: lctn.longitude,\n        latitudeDelta: 0.0016,\n        longitudeDelta: 0.0012,\n      });\n      setTarget({\n        name,\n        address: addressComponent,\n        id: json.results[0].place_id,\n        lctn: { latitude: lctn.latitude, longitude: lctn.longitude },\n      });\n      setTargetShown(true);\n    })\n    .catch((error) => console.warn(error));\n};\n\nasync function getLocationPermission({ setCurrent, setOrigin }) {\n  const { status } = await Location.requestForegroundPermissionsAsync();\n  if (status !== \"granted\") {\n    alert(\"Permission denied\");\n    return;\n  }\n  const location = await Location.getCurrentPositionAsync({});\n  setCurrent({\n    latitude: location.coords.latitude,\n    longitude: location.coords.longitude,\n  });\n  setOrigin((prev) => ({\n    latitude: location.coords.latitude,\n    longitude: location.coords.longitude,\n    latitudeDelta: 0.0016,\n    longitudeDelta: 0.0012,\n  }));\n}\n\nconst rotateValueHolder = new Animated.Value(0);\n\nconst CurrentRotate = (isFocused) => {\n  if (isFocused) {\n    rotateValueHolder.setValue(0);\n    Animated.loop(\n      Animated.timing(rotateValueHolder, {\n        toValue: 1,\n        duration: 3000,\n        easing: Easing.linear,\n        useNativeDriver: false,\n      }),\n      { iteration: 4 }\n    ).start();\n  }\n};\n\nconst RotateData = rotateValueHolder.interpolate({\n  inputRange: [0, 1],\n  outputRange: [\"0deg\", \"360deg\"],\n});\n\nconst MapScreen = ({ navigation }) => {\n  const myContext = useContext(AppContext);\n  const myUID = myContext.myUID;\n  const userQuery = useUserQuery(myUID);\n  const allRecordQuery = useAllRecordQuery();\n\n  const isFocused = useIsFocused();\n  const [getPermissions, setGetPermissions] = useState(false);\n\n  const mapRef = React.createRef();\n  const [origin, setOrigin] = useState({\n    latitude: 0,\n    longitude: 0,\n    latitudeDelta: 0.0016,\n    longitudeDelta: 0.0012,\n  }); //현재 스크린에 나타나는 map의 중앙 좌표값\n  const [current, setCurrent] = useState({ latitude: 0, longitude: 0 }); //내 위치 좌표\n  const [target, setTarget] = useState({\n    name: \"\",\n    address: \"\",\n    id: \"\",\n    lctn: { latitude: 0, longitude: 0 },\n  }); //검색 target의 좌표\n  const [targetShown, setTargetShown] = useState(false);\n  const onChangeGetPermissions = (b) => {\n    setGetPermissions(b);\n  };\n\n  useEffect(() => {\n    if (getPermissions) {\n      Geocoder.init(\"AIzaSyDBq4tZ1QLm1R7iPH8O4dTvebVGWgkRPks\", {\n        language: \"kor\",\n      });\n      GeneratePushToken(myUID);\n      getLocationPermission({ setCurrent, setOrigin });\n    }\n  }, [getPermissions]);\n\n  useEffect(() => {\n    if (targetShown) {\n      navigation.navigate(\"PlaceInfoBottomSheetScreen\", {\n        targetName: target.name,\n        targetAddress: target.address,\n        targetId: target.id,\n        targetLctn: target.lctn,\n      });\n    }\n  }, [targetShown]);\n\n  useEffect(() => {\n    // earse Target marker when come back from other screen\n    if (targetShown && isFocused) setTargetShown(false);\n  }, [isFocused]);\n\n  useEffect(() => {\n    if (getData == null) {\n      gotoTutorial({ navigation, onChangeGetPermissions });\n      storeData(\"true\");\n    } else {\n      onChangeGetPermissions(true);\n    }\n    CurrentRotate(isFocused); //나중에 혹시나 수정 필요\n  }, []);\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <MapView\n        provider=\"google\"\n        ref={mapRef}\n        style={styles.map}\n        customMapStyle={mapStyle}\n        region={{\n          latitude: origin.latitude,\n          longitude: origin.longitude,\n          latitudeDelta: origin.latitudeDelta,\n          longitudeDelta: origin.longitudeDelta,\n        }}\n        onRegionChangeComplete={(region) => {\n          if (region !== undefined) {\n            setOrigin({\n              latitude: region.latitude,\n              longitude: region.longitude,\n              latitudeDelta: region.latitudeDelta,\n              longitudeDelta: region.longitudeDelta,\n            });\n          }\n        }}\n        onPoiClick={(data) => {\n          targetingFromLocation({\n            lctn: data.nativeEvent.coordinate,\n            name: data.nativeEvent.name.split(\"\\n\")[0],\n            setOrigin,\n            setTarget,\n            setTargetShown,\n          });\n        }}\n        onPress={({ nativeEvent }) => {\n          if (\n            nativeEvent.action === \"marker-press\" &&\n            nativeEvent.coordinate.latitude === target.lctn.latitude &&\n            nativeEvent.coordinate.longitude === target.lctn.longitude\n          ) {\n            setTargetShown(true);\n          } else {\n            setTargetShown(false);\n          }\n        }}\n      >\n        <Marker coordinate={target.lctn} opacity={targetShown ? 100 : 0}>\n          <TargetMarker />\n        </Marker>\n        <View\n          style={styles.currentLocationButton}\n          onTouchEndCapture={() => {\n            mapRef.current.animateToRegion({\n              latitude: current.latitude,\n              longitude: current.longitude,\n              latitudeDelta: 0.0016,\n              longitudeDelta: 0.0012,\n            });\n          }}\n        >\n          <Animated.Image\n            source={findCurrentLocationImage}\n            resizeMode=\"contain\"\n            style={{\n              position: \"absolute\",\n              width: 30,\n              height: 30,\n              borderRadius: 15,\n              left: 330,\n              top: 608,\n              tintColor: \"grey\",\n              transform: [{ rotate: RotateData }],\n            }}\n          />\n        </View>\n        <View\n          style={styles.createNote}\n          onTouchEndCapture={() => {\n            console.log(\"create note !!\");\n          }}\n        >\n          <CreateNote />\n        </View>\n        <RecordMarker\n          recordData={\n            allRecordQuery.data\n              ? Object.values(allRecordQuery.data).filter((record) => {\n                  return record.folderID in userQuery.data?.folderIDs;\n                })\n              : []\n          }\n          origin={origin}\n        />\n      </MapView>\n      <SearchView navigation={navigation} origin={origin} />\n    </SafeAreaView>\n  );\n};\n\nexport default MapScreen;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"stretch\",\n    justifyContent: \"center\",\n  },\n  map: {\n    width: \"100%\",\n    height: \"100%\",\n  },\n  currentLocationImage: {\n    position: \"absolute\",\n    width: 30,\n    height: 30,\n    borderRadius: 15,\n    left: 330,\n    top: 608,\n    tintColor: \"grey\",\n  },\n  currentLocationButton: {\n    position: \"absolute\",\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    left: 23,\n    bottom: 112,\n    backgroundColor: \"white\",\n  },\n  createNote: {\n    position: \"absolute\",\n    width: 48,\n    height: 48,\n    borderRadius: 24,\n    zIndex: 1,\n    shadowColor: \"black\",\n    shadowOffset: {\n      width: 0,\n      height: 5,\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.5,\n    left: 319,\n    bottom: 112,\n    backgroundColor: \"red\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}