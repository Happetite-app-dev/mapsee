{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useContext } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useAllFolderQuery } from \"../../queries\";\nimport AppContext from \"../AppContext\";\nimport IndividualFolder from \"./IndividualFolder\";\nimport get from \"lodash/get\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar FolderList = function FolderList(_ref) {\n  var folderIDs = _ref.folderIDs,\n      _setSelectedFolderIDNameColorUserIDs = _ref.setSelectedFolderIDNameColorUserIDs,\n      setLongPressedFolder = _ref.setLongPressedFolder,\n      setModalVisible = _ref.setModalVisible;\n  var myContext = useContext(AppContext);\n  var myUID = myContext.myUID;\n\n  var renderFolder = function renderFolder(_ref2) {\n    var folderID = _ref2.item;\n    return _jsx(IndividualFolder, {\n      folderID: folderID,\n      setSelectedFolderIDNameColorUserIDs: function setSelectedFolderIDNameColorUserIDs(tmp) {\n        return _setSelectedFolderIDNameColorUserIDs(tmp);\n      },\n      setLongPressedFolder: setLongPressedFolder,\n      setModalVisible: setModalVisible\n    });\n  };\n\n  var _useAllFolderQuery = useAllFolderQuery(),\n      isLoading = _useAllFolderQuery.isLoading,\n      error = _useAllFolderQuery.error,\n      data = _useAllFolderQuery.data;\n\n  if (isLoading) return _jsx(Text, {\n    children: \"\\uB85C\\uB529\\uC911\"\n  });else if (error) return _jsx(Text, {\n    children: \"\\uC5D0\\uB7EC \\uBC1C\\uC0DD\"\n  });\n  return data && _jsx(FlatList, {\n    data: Object.entries(data).filter(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n          key = _ref4[0];\n\n      return folderIDs.includes(key);\n    }).sort(function (_ref5, _ref6) {\n      var _ref7 = _slicedToArray(_ref5, 2),\n          a = _ref7[1];\n\n      var _ref8 = _slicedToArray(_ref6, 2),\n          b = _ref8[1];\n\n      var fixedDateA = get(a, [\"fixedDate\", myUID]);\n      var fixedDateB = get(b, [\"fixedDate\", myUID]);\n      if (fixedDateA && fixedDateB) return new Date(fixedDateB) - new Date(fixedDateA);else if (fixedDateA && !fixedDateB) return -1;else if (fixedDateB) return 1;else return new Date(b[\"updateDate\"]) - new Date(a[\"updateDate\"]);\n    }).map(function (_ref9) {\n      var _ref10 = _slicedToArray(_ref9, 1),\n          key = _ref10[0];\n\n      return key;\n    }),\n    renderItem: renderFolder,\n    keyExtractor: function keyExtractor(item) {\n      return item;\n    },\n    horizontal: true,\n    style: {\n      flex: 1\n    }\n  });\n};\n\nexport default FolderList;","map":{"version":3,"names":["useContext","useAllFolderQuery","AppContext","IndividualFolder","get","FolderList","folderIDs","setSelectedFolderIDNameColorUserIDs","setLongPressedFolder","setModalVisible","myContext","myUID","renderFolder","folderID","item","tmp","isLoading","error","data","Object","entries","filter","key","includes","sort","a","b","fixedDateA","fixedDateB","Date","map","flex"],"sources":["/Users/jeongin/mapsee_2/components/StorageScreen/FolderList.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { FlatList, Text } from \"react-native\";\nimport { useAllFolderQuery } from \"../../queries\";\nimport AppContext from \"../AppContext\";\nimport IndividualFolder from \"./IndividualFolder\";\nimport get from \"lodash/get\";\n\nconst FolderList = ({\n  folderIDs,\n  setSelectedFolderIDNameColorUserIDs,\n  setLongPressedFolder,\n  setModalVisible,\n}) => {\n  const myContext = useContext(AppContext);\n  const myUID = myContext.myUID;\n  const renderFolder = ({ item: folderID }) => (\n    <IndividualFolder\n      folderID={folderID}\n      setSelectedFolderIDNameColorUserIDs={(tmp) =>\n        setSelectedFolderIDNameColorUserIDs(tmp)\n      }\n      setLongPressedFolder={setLongPressedFolder}\n      setModalVisible={setModalVisible}\n    />\n  );\n  const { isLoading, error, data } = useAllFolderQuery();\n  if (isLoading) return <Text>로딩중</Text>;\n  else if (error) return <Text>에러 발생</Text>;\n  return (\n    data && (\n      <FlatList\n        data={Object.entries(data)\n          .filter(([key]) => folderIDs.includes(key))\n          .sort(([, a], [, b]) => {\n            const fixedDateA = get(a, [\"fixedDate\", myUID]);\n            const fixedDateB = get(b, [\"fixedDate\", myUID]);\n            if (fixedDateA && fixedDateB)\n              return new Date(fixedDateB) - new Date(fixedDateA);\n            else if (fixedDateA && !fixedDateB) return -1;\n            else if (fixedDateB) return 1;\n            else return new Date(b[\"updateDate\"]) - new Date(a[\"updateDate\"]);\n          })\n          .map(([key]) => key)}\n        renderItem={renderFolder}\n        keyExtractor={(item) => item}\n        horizontal\n        style={{\n          flex: 1,\n        }}\n      />\n    )\n  );\n};\n\nexport default FolderList;\n"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;;;AAEA,SAASC,iBAAT;AACA,OAAOC,UAAP;AACA,OAAOC,gBAAP;AACA,OAAOC,GAAP,MAAgB,YAAhB;;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAKb;EAAA,IAJJC,SAII,QAJJA,SAII;EAAA,IAHJC,oCAGI,QAHJA,mCAGI;EAAA,IAFJC,oBAEI,QAFJA,oBAEI;EAAA,IADJC,eACI,QADJA,eACI;EACJ,IAAMC,SAAS,GAAGV,UAAU,CAACE,UAAD,CAA5B;EACA,IAAMS,KAAK,GAAGD,SAAS,CAACC,KAAxB;;EACA,IAAMC,YAAY,GAAG,SAAfA,YAAe;IAAA,IAASC,QAAT,SAAGC,IAAH;IAAA,OACnB,KAAC,gBAAD;MACE,QAAQ,EAAED,QADZ;MAEE,mCAAmC,EAAE,6CAACE,GAAD;QAAA,OACnCR,oCAAmC,CAACQ,GAAD,CADA;MAAA,CAFvC;MAKE,oBAAoB,EAAEP,oBALxB;MAME,eAAe,EAAEC;IANnB,EADmB;EAAA,CAArB;;EAUA,yBAAmCR,iBAAiB,EAApD;EAAA,IAAQe,SAAR,sBAAQA,SAAR;EAAA,IAAmBC,KAAnB,sBAAmBA,KAAnB;EAAA,IAA0BC,IAA1B,sBAA0BA,IAA1B;;EACA,IAAIF,SAAJ,EAAe,OAAO,KAAC,IAAD;IAAA;EAAA,EAAP,CAAf,KACK,IAAIC,KAAJ,EAAW,OAAO,KAAC,IAAD;IAAA;EAAA,EAAP;EAChB,OACEC,IAAI,IACF,KAAC,QAAD;IACE,IAAI,EAAEC,MAAM,CAACC,OAAP,CAAeF,IAAf,EACHG,MADG,CACI;MAAA;MAAA,IAAEC,GAAF;;MAAA,OAAWhB,SAAS,CAACiB,QAAV,CAAmBD,GAAnB,CAAX;IAAA,CADJ,EAEHE,IAFG,CAEE,wBAAkB;MAAA;MAAA,IAAdC,CAAc;;MAAA;MAAA,IAAPC,CAAO;;MACtB,IAAMC,UAAU,GAAGvB,GAAG,CAACqB,CAAD,EAAI,CAAC,WAAD,EAAcd,KAAd,CAAJ,CAAtB;MACA,IAAMiB,UAAU,GAAGxB,GAAG,CAACsB,CAAD,EAAI,CAAC,WAAD,EAAcf,KAAd,CAAJ,CAAtB;MACA,IAAIgB,UAAU,IAAIC,UAAlB,EACE,OAAO,IAAIC,IAAJ,CAASD,UAAT,IAAuB,IAAIC,IAAJ,CAASF,UAAT,CAA9B,CADF,KAEK,IAAIA,UAAU,IAAI,CAACC,UAAnB,EAA+B,OAAO,CAAC,CAAR,CAA/B,KACA,IAAIA,UAAJ,EAAgB,OAAO,CAAP,CAAhB,KACA,OAAO,IAAIC,IAAJ,CAASH,CAAC,CAAC,YAAD,CAAV,IAA4B,IAAIG,IAAJ,CAASJ,CAAC,CAAC,YAAD,CAAV,CAAnC;IACN,CAVG,EAWHK,GAXG,CAWC;MAAA;MAAA,IAAER,GAAF;;MAAA,OAAWA,GAAX;IAAA,CAXD,CADR;IAaE,UAAU,EAAEV,YAbd;IAcE,YAAY,EAAE,sBAACE,IAAD;MAAA,OAAUA,IAAV;IAAA,CAdhB;IAeE,UAAU,MAfZ;IAgBE,KAAK,EAAE;MACLiB,IAAI,EAAE;IADD;EAhBT,EAFJ;AAwBD,CA7CD;;AA+CA,eAAe1B,UAAf"},"metadata":{},"sourceType":"module"}