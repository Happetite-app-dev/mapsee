{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { ref, onValue, set, push } from \"firebase/database\";\nimport { useEffect, useState, useContext } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Snackbar } from \"react-native-paper\";\nimport AppContext from \"../components/AppContext\";\nimport NoticeRenderer from \"../components/NoticeRenderer\";\nimport { database } from \"../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar NoticeScreen = function NoticeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var myContext = useContext(AppContext);\n  var myUID = myContext.myUID;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      noticeList = _useState2[0],\n      setNoticeList = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visible = _useState4[0],\n      setVisible = _useState4[1];\n\n  var onToggleSnackBar = function onToggleSnackBar() {\n    return setVisible(!visible);\n  };\n\n  var onDismissSnackBar = function onDismissSnackBar() {\n    return setVisible(false);\n  };\n\n  var db = database;\n  useEffect(function () {\n    onValue(ref(db, \"/notices/\" + myUID), function (snapshot) {\n      setNoticeList([]);\n      snapshot.forEach(function (datasnapshot) {\n        setNoticeList(function (prev) {\n          return [].concat(_toConsumableArray(prev), [{\n            key: datasnapshot.key,\n            val: datasnapshot.val()\n          }]);\n        });\n      });\n    });\n  }, []);\n\n  var renderNotice = function renderNotice(_ref2) {\n    var item = _ref2.item;\n    return _jsx(NoticeRenderer, {\n      navigation: navigation,\n      item: item,\n      onToggleSnackBar: onToggleSnackBar\n    });\n  };\n\n  return _jsxs(SafeAreaView, {\n    style: {\n      backgroundColor: \"white\"\n    },\n    children: [_jsx(View, {\n      style: styles.screenTitleView,\n      children: _jsx(Text, {\n        style: styles.screenTitle,\n        children: \"\\uC54C\\uB9BC\"\n      })\n    }), _jsxs(View, {\n      style: {\n        alignItems: \"center\",\n        height: \"90%\"\n      },\n      children: [_jsx(FlatList, {\n        data: noticeList,\n        renderItem: renderNotice,\n        numColumns: 1,\n        initialNumToRender: 6,\n        style: {\n          width: \"100%\"\n        }\n      }), _jsx(Snackbar, {\n        visible: visible,\n        onDismiss: onDismissSnackBar,\n        action: {\n          label: \"Undo\",\n          onPress: function onPress() {\n            onDismissSnackBar;\n          }\n        },\n        style: {\n          backgroundColor: \"#545766\",\n          borderRadius: 8,\n          fontSize: 12,\n          lineHeight: 16,\n          letterSpacing: -0.5\n        },\n        children: \"Hi there! I'm Snackbar.\"\n      })]\n    })]\n  });\n};\n\nexport default NoticeScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\"\n  },\n  screenTitle: {\n    fontWeight: \"bold\",\n    fontSize: 16,\n    left: 23\n  },\n  screenTitleView: {\n    flexDirection: \"row\",\n    height: 56,\n    marginBottom: 20,\n    alignItems: \"center\"\n  }\n});","map":{"version":3,"names":["ref","onValue","set","push","useEffect","useState","useContext","Snackbar","AppContext","NoticeRenderer","database","NoticeScreen","navigation","myContext","myUID","noticeList","setNoticeList","visible","setVisible","onToggleSnackBar","onDismissSnackBar","db","snapshot","forEach","datasnapshot","prev","key","val","renderNotice","item","backgroundColor","styles","screenTitleView","screenTitle","alignItems","height","width","label","onPress","borderRadius","fontSize","lineHeight","letterSpacing","StyleSheet","create","container","flex","fontWeight","left","flexDirection","marginBottom"],"sources":["/Users/jeongin/mapsee_2/screens/NoticeScreen.js"],"sourcesContent":["import { ref, onValue, set, push } from \"firebase/database\";\nimport { useEffect, useState, useContext } from \"react\";\nimport { SafeAreaView, Text, View, FlatList, StyleSheet } from \"react-native\";\nimport { Snackbar } from \"react-native-paper\";\n\nimport AppContext from \"../components/AppContext\";\nimport NoticeRenderer from \"../components/NoticeRenderer\";\nimport { database } from \"../firebase\";\n\nconst NoticeScreen = ({ navigation }) => {\n  const myContext = useContext(AppContext);\n  const myUID = myContext.myUID;\n  const [noticeList, setNoticeList] = useState([]);\n\n  const [visible, setVisible] = useState(false); // Snackbar\n  const onToggleSnackBar = () => setVisible(!visible); // SnackbarButton -> 나중에는 없애기\n  const onDismissSnackBar = () => setVisible(false); // Snackbar\n\n  const db = database;\n  useEffect(() => {\n    onValue(ref(db, \"/notices/\" + myUID), (snapshot) => {\n      setNoticeList([]);\n      snapshot.forEach((datasnapshot) => {\n        setNoticeList((prev) => [\n          ...prev,\n          { key: datasnapshot.key, val: datasnapshot.val() },\n        ]);\n      });\n    });\n  }, []);\n\n  const renderNotice = ({ item }) => (\n    <NoticeRenderer\n      navigation={navigation}\n      item={item}\n      onToggleSnackBar={onToggleSnackBar}\n    />\n  );\n\n  return (\n    <SafeAreaView style={{ backgroundColor: \"white\" }}>\n      <View style={styles.screenTitleView}>\n        <Text style={styles.screenTitle}>알림</Text>\n      </View>\n      <View style={{ alignItems: \"center\", height: \"90%\" }}>\n        <FlatList\n          data={noticeList}\n          renderItem={renderNotice}\n          numColumns={1}\n          initialNumToRender={6}\n          style={{\n            width: \"100%\",\n          }}\n        />\n\n        <Snackbar\n          visible={visible}\n          onDismiss={onDismissSnackBar}\n          action={{\n            label: \"Undo\", // 옆에 취소표시\n            onPress: () => {\n              onDismissSnackBar;\n            },\n          }}\n          style={{\n            backgroundColor: \"#545766\",\n            borderRadius: 8,\n            fontSize: 12,\n            lineHeight: 16,\n            letterSpacing: -0.5,\n          }}\n        >\n          Hi there! I'm Snackbar.\n        </Snackbar>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nexport default NoticeScreen;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n  },\n  screenTitle: { fontWeight: \"bold\", fontSize: 16, left: 23 },\n  screenTitleView: {\n    flexDirection: \"row\",\n    height: 56,\n    marginBottom: 20,\n    alignItems: \"center\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}